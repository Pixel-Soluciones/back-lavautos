import{a as C}from"./chunk-EH2ZWQET.js";import{a as w}from"./chunk-NIQKBJBG.js";import"./chunk-TX7LC2PY.js";import{a as _}from"./chunk-NTFV3UOJ.js";import"./chunk-SXKB25RG.js";import"./chunk-EKOSEFZP.js";import"./chunk-U3QUSVWF.js";import"./chunk-74RUH4UK.js";import{a as T}from"./chunk-37JVPQS2.js";import{h as p}from"./chunk-BXPCUMYM.js";import{$ as s,Cb as g,Ea as h,Ga as l,Pa as m,bb as f,e as I,lb as n,mb as i,nb as d,oa as E,sb as r,wb as b}from"./chunk-SEJLVJPR.js";var c=class a{router=s(p);icon="";create=new E;return(){this.router.navigate(["dashboard"])}newElement(){this.create.emit("new")}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=m({type:a,selectors:[["app-nav-footer"]],inputs:{icon:"icon"},outputs:{create:"create"},decls:5,vars:1,consts:[[1,"flex","justify-center","gap-2","mt-5"],["title","atras",1,"transition-all","duration-300","active:brightness-80",3,"click"],["src","iconos-botones/atras.png","alt","",1,"w-[120px]"],["title","nuevo-servicio",1,"transition-all","duration-300","active:brightness-80",3,"click"],["alt","",1,"w-[120px]",3,"src"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"button",1),r("click",function(){return o.return()}),d(2,"img",2),i(),n(3,"button",3),r("click",function(){return o.newElement()}),d(4,"img",4),i()()),t&2&&(l(4),b("src",o.icon,h))},encapsulation:2})};var y=I(T());var v=class a{#e=s(p);#t=s(_);employees=[];columns=[];icon="iconos-botones/nuevo-trabajador.png";ngOnInit(){this.columns=w("employees"),this.loadEmployees()}loadEmployees(){this.#t.getAll().subscribe({next:e=>{this.employees=e},error:e=>{console.error("Error obteniendo empleados:",e)}})}atras(){this.#e.navigate(["dashboard"])}newEmplooye(){this.#e.navigate(["employees/new"])}handleAction(e){e.action=="Edit"?this.edit(e.row):e.action=="Delete"&&this.delete(e.row.cedula)}edit(e){this.#e.navigate(["employees/new",e])}delete(e){y.default.fire({title:"\xBFEst\xE1 seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#32cd32",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.isConfirmed&&(y.default.fire({showConfirmButton:!1,title:"Empleado eliminado",icon:"error",timer:1500}),this.#t.delete(e).subscribe(o=>{this.loadEmployees()}))})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=m({type:a,selectors:[["app-employees"]],decls:6,vars:4,consts:[[1,"flex","flex-col","justify-center","px-6","py-12","w-screen"],[1,"flex","items-center","justify-center"],[1,"text-white","text-4xl","font-bold","text-center"],[3,"action","title","cols","dataSource"],[3,"create","icon"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),g(3,"REGISTRO DE TRABAJADORES"),i()(),n(4,"app-table",3),r("action",function(S){return o.handleAction(S)}),i(),n(5,"app-nav-footer",4),r("create",function(){return o.newEmplooye()}),i()()),t&2&&(l(4),f("title","LISTA DE TRABAJADORES")("cols",o.columns)("dataSource",o.employees),l(),f("icon",o.icon))},dependencies:[C,c],encapsulation:2})};export{v as default};
