import{a as c}from"./chunk-CZTRXH27.js";import{a as l}from"./chunk-BXPCUMYM.js";import{S as i,V as a,_ as n,ua as s}from"./chunk-SEJLVJPR.js";var p=class e{constructor(t){this.http=t}isAuthenticated=s(this.checkAuth());url=c.API_URL;checkAuth(){return!!localStorage.getItem("lavaAutosToken")}login(t,o){return this.http.post(`${this.url}/login`,{email:t,password:o}).pipe(i(r=>{r.token&&(localStorage.setItem("lavaAutosToken",r.token),localStorage.setItem("user",JSON.stringify(r.user)),this.isAuthenticated.set(!0))}))}logout(){localStorage.removeItem("lavaAutosToken"),this.isAuthenticated.set(!1)}getAuthStatus(){return this.isAuthenticated}static \u0275fac=function(o){return new(o||e)(n(l))};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};export{p as a};
